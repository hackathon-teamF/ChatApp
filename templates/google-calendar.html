<!DOCTYPE html>
<html>
	<head>
		<meta charset='utf-8' />
		<link rel="stylesheet" href="{{ url_for('static',filename='css/calendar.css') }}" />
		<script
				src="{{ url_for('static',filename='js/calendar.js') }}"
				type="text/javascript"
				></script>
		<script
				src="{{ url_for('static',filename='js/apikey.js') }}"
				type="text/javascript"
				></script>
		<script>

			document.addEventListener('DOMContentLoaded', function() {
				let calendarEl = document.getElementById('calendar');

				let calendar = new FullCalendar.Calendar(calendarEl, {

					headerToolbar: {
						left: 'prev,next today',
						center: 'title',
						right: 'dayGridMonth,listYear'
					},

					displayEventTime: false,

					//googleカレンダーAPIキー
					googleCalendarApiKey: apiconfig.apikey, 
					//カレンダーのID
					events: apiconfig.ID, 

					eventClick: function(arg) {
						window.open(arg.event.url, 'google-calendar-event', 'width=700,height=600');
						arg.jsEvent.preventDefault() // don't navigate in main tab
					},

					loading: function(bool) {
						document.getElementById('loading').style.display =
							bool ? 'block' : 'none';
					}

				});

				calendar.render();
			});

		</script>
		<style>

body {
	margin: 40px 10px;
	padding: 0;
	font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
	font-size: 14px;
}

	#loading {
		display: none;
		position: absolute;
		top: 10px;
		right: 10px;
	}

	#calendar {
		max-width: 1100px;
		margin: 0 auto;
	}

		</style>
	</head>
	<body>

		<div id='loading'>loading...</div>
		<div id='calendar'></div>

	</body>
</html>
